\tikzsetnextfilename{erosione_classe_eta}
\begin{tikzpicture}
	\begin{axis}[
		width = 0.49\textwidth,
		height = 0.9\textwidth,
		name = giovane,
		title = {Giovane},
		symbolic x coords = {2007-09-21, 2008-07-05, 2009-07-08, 2010-09-29, 2011-10-02, 2012-08-01, 2013-09-05, 2014-09-08, 2014-10-31, 2015-08-13, 2015-09-12, 2015-10-22, 2016-09-13, 2017-04-21, 2017-06-13, 2018-06-15, 2018-09-16},
		xticklabel style = {
			rotate = 90,
			font = \footnotesize,
		},
		xtick distance = 1,
		ymin = 1,
		ymax = 23,
		ytick = data,
		enlargelimits = 0.02,
		ylabel = {Tratto},
		y dir = reverse,
		colormap/bluered,
		]
		\addplot[
			matrix plot*,
			mesh/cols = 23,	% per fargli leggere colonne formate da 23 righe dal file di testo
			shader = flat corner,	% per interpolare i colori
			point meta max = 1,
		]
        	table [y = tratto, x = data, point meta = \thisrow{cambiamento}] {graphics/data/eros_giov_matrix.txt}; 	
    \end{axis}
    
    \begin{axis}[
		width = 0.49\textwidth,
		height = 0.9\textwidth,
		name = intermedia,
		title = {Intermedia},
		at = {($(giovane.east) + (0.2cm, 0cm)$)},
		anchor = west,
		symbolic x coords = {2007-09-21, 2008-07-05, 2009-07-08, 2010-09-29, 2011-10-02, 2012-08-01, 2013-09-05, 2014-09-08, 2014-10-31, 2015-08-13, 2015-09-12, 2015-10-22, 2016-09-13, 2017-04-21, 2017-06-13, 2018-06-15, 2018-09-16},
		xticklabel style = {
			rotate = 90,
			font = \footnotesize,
		},
		xtick distance = 1,
		ymin = 1,
		ymax = 23,
		ytick = data,
		yticklabels = {,,},
		enlargelimits = 0.02,
		y dir = reverse,
		colormap/bluered,
		]
		\addplot[
			matrix plot*,
			mesh/cols = 23,	% per fargli leggere colonne formate da 23 righe dal file di testo
			shader = flat corner,	% per interpolare i colori
			point meta max = 1,
		]
        	table [y = tratto, x = data, point meta = \thisrow{cambiamento}] {graphics/data/eros_int_matrix.txt};
    \end{axis}
    
    \begin{axis}[
		width = 0.49\textwidth,
		height = 0.9\textwidth,
		name = matura,
		title = {Matura},
		at = {($(intermedia.east) + (0.2cm, 0cm)$)},
		anchor = west,
		symbolic x coords = {2007-09-21, 2008-07-05, 2009-07-08, 2010-09-29, 2011-10-02, 2012-08-01, 2013-09-05, 2014-09-08, 2014-10-31, 2015-08-13, 2015-09-12, 2015-10-22, 2016-09-13, 2017-04-21, 2017-06-13, 2018-06-15, 2018-09-16},
		xticklabel style = {
			rotate = 90,
			font = \footnotesize,
		},
		xtick distance = 1,
		ymin = 1,
		ymax = 23,
		ytick = data,
		yticklabels = {,,},
		enlargelimits = 0.02,
		y dir = reverse,
		colorbar right,
		colorbar style = {
			ylabel = {Vegetazione erosa rapportata alla vegetazione presente},
			ylabel style = {
				rotate = 180,
			},
		},
		colormap/bluered,
		]
		\addplot[
			matrix plot*,
			mesh/cols = 23,	% per fargli leggere colonne formate da 23 righe dal file di testo
			shader = flat corner,	% per interpolare i colori
			point meta max = 1,
		]
        	table [y = tratto, x = data, point meta = \thisrow{cambiamento}] {graphics/data/eros_mat_matrix.txt};
    \end{axis}
\end{tikzpicture}